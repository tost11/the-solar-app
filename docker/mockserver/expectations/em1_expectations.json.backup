[
  {
    "httpRequest": {
      "method": "GET",
      "path": "/"
    },
    "httpResponse": {
      "statusCode": 200,
      "headers": {
        "Content-Type": ["text/html"]
      },
      "body": "<!DOCTYPE html>\n<html data-theme=\"dark\">\n<head>\n  <title>Shelly Web Admin</title>\n</head>\n<body>\n  <h1>Shelly EM Gen3</h1>\n  <p>Device: S3EM-002CXCEU</p>\n</body>\n</html>",
      "delay": {
        "timeUnit": "MILLISECONDS",
        "value": 50
      }
    }
  },
  {
    "httpRequest": {
      "method": "POST",
      "path": "/rpc",
      "body": {
        "type": "JSON",
        "json": {
          "method": "Shelly.GetDeviceInfo"
        },
        "matchType": "ONLY_MATCHING_FIELDS"
      }
    },
    "httpResponse": {
      "statusCode": 200,
      "headers": {
        "Content-Type": ["application/json"]
      },
      "body": {
        "id": 1768255378,
        "src": "shelly-emg3-aabbccddeeff",
        "dst": "flutter_app",
        "result": {
          "id": "shelly-emg3-aabbccddeeff",
          "mac": "AABBCCDDEEFF",
          "model": "S3EM-002CXCEU",
          "gen": 3,
          "fw_id": "2024.11.0",
          "ver": "1.4.3",
          "app": "EM",
          "auth_en": false,
          "auth_domain": null,
          "profile": "single",
          "name": "Shelly EM Gen3",
          "manufacturer": "Shelly",
          "num_outputs": 0,
          "num_meters": 2,
          "timezone": "Europe/Berlin",
          "country": "DE"
        }
      },
      "delay": {
        "timeUnit": "MILLISECONDS",
        "value": 50
      }
    }
  },
  {
    "httpRequest": {
      "method": ".*",
      "path": "/rpc/Shelly.GetDeviceInfo"
    },
    "httpResponse": {
      "statusCode": 200,
      "headers": {
        "Content-Type": ["application/json"]
      },
      "body": {
        "id": "shelly-emg3-aabbccddeeff",
        "mac": "AABBCCDDEEFF",
        "model": "S3EM-002CXCEU",
        "gen": 3,
        "fw_id": "2024.11.0",
        "ver": "1.4.3",
        "app": "EM",
        "auth_en": false,
        "auth_domain": null,
        "profile": "single",
        "name": "Shelly EM Gen3",
        "manufacturer": "Shelly",
        "num_outputs": 0,
        "num_meters": 2,
        "timezone": "Europe/Berlin",
        "country": "DE"
      },
      "delay": {
        "timeUnit": "MILLISECONDS",
        "value": 50
      }
    }
  },
  {
    "httpRequest": {
      "method": "POST",
      "path": "/rpc",
      "body": {
        "type": "JSON",
        "json": {
          "method": "Shelly.GetStatus"
        },
        "matchType": "ONLY_MATCHING_FIELDS"
      }
    },
    "httpResponse": {
      "statusCode": 200,
      "headers": {
        "Content-Type": ["application/json"]
      },
      "body": {
        "id": 1768255378,
        "src": "shelly-emg3-aabbccddeeff",
        "dst": "flutter_app",
        "result": {
          "ble": {},
          "cloud": {
            "connected": false
          },
          "em1:0": {
            "id": 0,
            "current": 0.020,
            "voltage": 224.6,
            "act_power": 0.0,
            "aprt_power": 4.6,
            "pf": 0.00,
            "freq": 50.0,
            "calibration": "factory"
          },
          "em1:1": {
            "id": 1,
            "current": "${= (function() { var hour = new Date().getHours(); var consumed = 1000 + (Math.random() - 0.5) * 400; var solarFactor = Math.max(0, Math.sin((hour - 6) * Math.PI / 12)); var solar = solarFactor * 600; var voltage = 230 + (Math.random() - 0.5) * 10; var netPower = consumed - solar; return (netPower / voltage).toFixed(3); })()}",
            "voltage": "${= (230 + (Math.random() - 0.5) * 10).toFixed(1)}",
            "act_power": "${= (function() { var hour = new Date().getHours(); var consumed = 1000 + (Math.random() - 0.5) * 400; var solarFactor = Math.max(0, Math.sin((hour - 6) * Math.PI / 12)); var solar = solarFactor * 600; return Math.floor(consumed - solar); })()}",
            "aprt_power": "${= (function() { var hour = new Date().getHours(); var consumed = 1000 + (Math.random() - 0.5) * 400; var solarFactor = Math.max(0, Math.sin((hour - 6) * Math.PI / 12)); var solar = solarFactor * 600; var actPower = consumed - solar; return Math.floor(actPower * 1.01); })()}",
            "pf": 0.99,
            "freq": 50.0,
            "calibration": "factory"
          },
          "em1data:0": {
            "id": 0,
            "total_act_energy": 0.00,
            "total_act_ret_energy": 0.00
          },
          "em1data:1": {
            "id": 1,
            "total_act_energy": "${= Math.floor(Date.now() / 60000) * 1.0}",
            "total_act_ret_energy": "${= Math.floor(Date.now() / 60000) * 0.3}"
          },
          "eth": {
            "ip": null
          },
          "modbus": {},
          "mqtt": {
            "connected": true
          },
          "switch:0": {
            "id": 0,
            "source": "HTTP_in",
            "output": true,
            "temperature": {
              "tC": 29.4,
              "tF": 85.0
            }
          },
          "sys": {
            "mac": "AABBCCDDEEFF",
            "restart_required": false,
            "time": "${= (function() { var d = new Date(); var h = d.getHours(); var m = d.getMinutes(); return (h < 10 ? '0' : '') + h + ':' + (m < 10 ? '0' : '') + m; })()}",
            "unixtime": "${= Math.floor(Date.now() / 1000)}",
            "uptime": "${= Math.floor(Math.random() * 86400) + 3600}",
            "ram_size": 241940,
            "ram_free": "${= Math.floor(Math.random() * 20000) + 107332}",
            "fs_size": 524288,
            "fs_free": "${= Math.floor(Math.random() * 10000) + 198896}",
            "cfg_rev": 20,
            "kvs_rev": 0,
            "schedule_rev": 0,
            "webhook_rev": 0,
            "available_updates": {
              "stable": {
                "version": "1.2.0"
              }
            },
            "reset_reason": 3
          },
          "wifi": {
            "sta_ip": "192.168.1.100",
            "status": "got ip",
            "ssid": "MyNetwork",
            "rssi": -60
          },
          "ws": {
            "connected": false
          }
        }
      },
      "delay": {
        "timeUnit": "MILLISECONDS",
        "value": 50
      }
    }
  },
  {
    "httpRequest": {
      "method": ".*",
      "path": "/rpc/Shelly.GetStatus"
    },
    "httpResponse": {
      "statusCode": 200,
      "headers": {
        "Content-Type": ["application/json"]
      },
      "body": {
        "ble": {},
        "cloud": {
          "connected": false
        },
        "em1:0": {
          "id": 0,
          "current": 0.020,
          "voltage": 224.6,
          "act_power": 0.0,
          "aprt_power": 4.6,
          "pf": 0.00,
          "freq": 50.0,
          "calibration": "factory"
        },
        "em1:1": {
          "id": 1,
          "current": "${= (function() { var hour = new Date().getHours(); var consumed = 1000 + (Math.random() - 0.5) * 400; var solarFactor = Math.max(0, Math.sin((hour - 6) * Math.PI / 12)); var solar = solarFactor * 600; var voltage = 230 + (Math.random() - 0.5) * 10; var netPower = consumed - solar; return (netPower / voltage).toFixed(3); })()}",
          "voltage": "${= (230 + (Math.random() - 0.5) * 10).toFixed(1)}",
          "act_power": "${= (function() { var hour = new Date().getHours(); var consumed = 1000 + (Math.random() - 0.5) * 400; var solarFactor = Math.max(0, Math.sin((hour - 6) * Math.PI / 12)); var solar = solarFactor * 600; return Math.floor(consumed - solar); })()}",
          "aprt_power": "${= (function() { var hour = new Date().getHours(); var consumed = 1000 + (Math.random() - 0.5) * 400; var solarFactor = Math.max(0, Math.sin((hour - 6) * Math.PI / 12)); var solar = solarFactor * 600; var actPower = consumed - solar; return Math.floor(actPower * 1.01); })()}",
          "pf": 0.99,
          "freq": 50.0,
          "calibration": "factory"
        },
        "em1data:0": {
          "id": 0,
          "total_act_energy": 0.00,
          "total_act_ret_energy": 0.00
        },
        "em1data:1": {
          "id": 1,
          "total_act_energy": "${= Math.floor(Date.now() / 60000) * 1.0}",
          "total_act_ret_energy": "${= Math.floor(Date.now() / 60000) * 0.3}"
        },
        "eth": {
          "ip": null
        },
        "modbus": {},
        "mqtt": {
          "connected": true
        },
        "switch:0": {
          "id": 0,
          "source": "HTTP_in",
          "output": true,
          "temperature": {
            "tC": 29.4,
            "tF": 85.0
          }
        },
        "sys": {
          "mac": "AABBCCDDEEFF",
          "restart_required": false,
          "time": "${= (function() { var d = new Date(); var h = d.getHours(); var m = d.getMinutes(); return (h < 10 ? '0' : '') + h + ':' + (m < 10 ? '0' : '') + m; })()}",
          "unixtime": "${= Math.floor(Date.now() / 1000)}",
          "uptime": "${= Math.floor(Math.random() * 86400) + 3600}",
          "ram_size": 241940,
          "ram_free": "${= Math.floor(Math.random() * 20000) + 107332}",
          "fs_size": 524288,
          "fs_free": "${= Math.floor(Math.random() * 10000) + 198896}",
          "cfg_rev": 20,
          "kvs_rev": 0,
          "schedule_rev": 0,
          "webhook_rev": 0,
          "available_updates": {
            "stable": {
              "version": "1.2.0"
            }
          },
          "reset_reason": 3
        },
        "wifi": {
          "sta_ip": "192.168.1.100",
          "status": "got ip",
          "ssid": "MyNetwork",
          "rssi": -60
        },
        "ws": {
          "connected": false
        }
      },
      "delay": {
        "timeUnit": "MILLISECONDS",
        "value": 50
      }
    }
  }
]
